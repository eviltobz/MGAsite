@model MGAsite.Models.Results

@{
    ViewBag.Title = "Results";
}

<h2>@Html.DisplayFor(model => model.Event.EventName) @Html.DisplayFor(model => model.Event.Season.SeasonName) Results</h2>


<hr />
<h3>Participating Teams</h3>
<table cellpadding="5">
    <thead>
        <tr>
            <th>Team</th>
            <th>Rider 1</th>
            <th>Rider 2</th>
            <th>Rider 3</th>
            <th>Rider 4</th>
            <th>Rider 5</th>
            <th>Score</th>
        </tr>
    </thead>
    @foreach (var item in Model.Event.EventTeamEntries)
    {
        using (Html.BeginForm())
        {
            var entrants = item.EventRiderEntries.OrderBy(e => e.Id); 
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Team.TeamName)
                    @Html.HiddenFor(modelItem=>item.Id)
                </td>
                    <td>
                        @Html.DisplayFor(modelItem => entrants.ElementAt(0).Rider.FullName) / @Html.DisplayFor(modelItem => entrants.ElementAt(0).Pony.Name)
                        @Html.EditorFor(modelItem => entrants.ElementAt(0).Participated)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => entrants.ElementAt(1).Rider.FullName) / @Html.DisplayFor(modelItem => entrants.ElementAt(1).Pony.Name)
                        @Html.EditorFor(modelItem => entrants.ElementAt(1).Participated)
                    </td>
                <td>
                    <div class="col-md-10">
                        @Html.EditorFor(model => Model.Points, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => Model.Points, "", new { @class = "text-danger" })
                    </div></td>
            </tr>
        }
    }
</table>

<hr />
<p>
    @Html.ActionLink("Back to List", "Index")
</p>
